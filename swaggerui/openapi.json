{"components":{"responses":{},"schemas":{"NotFound":{"additionalProperties":false,"properties":{"errors":{"items":{"additionalProperties":false,"properties":{"detail":{"example":"The requested resource cannot be found.","type":"string","x-struct":null,"x-validate":null},"title":{"example":"Not Found","type":"string","x-struct":null,"x-validate":null}},"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"title":"NotFound","type":"object","x-struct":null,"x-validate":null},"Fact":{"additionalProperties":false,"description":"The result of a check","properties":{"check_id":{"description":"Check ID","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Name","type":"string","x-struct":null,"x-validate":null},"value":{"description":"Value","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null},{"type":"array","x-struct":null,"x-validate":null},{"type":"object","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null}},"required":["check_id","name","value"],"title":"Fact","type":"object","x-struct":null,"x-validate":null},"CheckResult":{"additionalProperties":false,"description":"The result of a check","properties":{"agents_check_results":{"items":{"oneOf":[{"$ref":"#/components/schemas/AgentCheckResult"},{"$ref":"#/components/schemas/AgentCheckError"}],"x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null},"check_id":{"description":"Check ID","type":"string","x-struct":null,"x-validate":null},"customized":{"description":"Whether the check has been customized","type":"boolean","x-struct":null,"x-validate":null},"expectation_results":{"items":{"$ref":"#/components/schemas/ExpectationResult"},"type":"array","x-struct":null,"x-validate":null},"result":{"description":"Result of the check","enum":["passing","warning","critical"],"type":"string","x-struct":null,"x-validate":null}},"required":["check_id","expectation_results","agents_check_results","result"],"title":"CheckResult","type":"object","x-struct":null,"x-validate":null},"StartExecutionRequest":{"additionalProperties":false,"description":"Context to run a Check Execution","properties":{"env":{"$ref":"#/components/schemas/ExecutionEnv"},"execution_id":{"description":"Execution identifier","format":"uuid","type":"string","x-struct":null,"x-validate":null},"group_id":{"description":"Group Execution identifier","format":"uuid","type":"string","x-struct":null,"x-validate":null},"target_type":{"description":"Execution target type","type":"string","x-struct":null,"x-validate":null},"targets":{"items":{"$ref":"#/components/schemas/Target"},"title":"Targets","type":"array","x-struct":null,"x-validate":null}},"required":["execution_id","group_id","targets"],"title":"StartExecutionRequest","type":"object","x-struct":null,"x-validate":null},"ExpectationEvaluationError":{"additionalProperties":false,"description":"An error occurred during the evaluation of an expectation","properties":{"message":{"description":"Error message","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Expectation name","type":"string","x-struct":null,"x-validate":null},"type":{"description":"Error type","type":"string","x-struct":null,"x-validate":null}},"required":["name","message","type"],"title":"ExpectationEvaluationError","type":"object","x-struct":null,"x-validate":null},"Value":{"additionalProperties":false,"description":"A Value used in the expectations evaluation","properties":{"customized":{"description":"Whether the value has been customized","type":"boolean","x-struct":null,"x-validate":null},"name":{"description":"Name","type":"string","x-struct":null,"x-validate":null},"value":{"description":"Value","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null}},"required":["check_id","name","value"],"title":"Value","type":"object","x-struct":null,"x-validate":null},"ExecutionResponse":{"additionalProperties":false,"description":"The representation of an execution, it may be a running or completed one","properties":{"check_results":{"items":{"$ref":"#/components/schemas/CheckResult"},"nullable":true,"type":"array","x-struct":null,"x-validate":null},"completed_at":{"description":"Execution completion time","format":"date-time","nullable":true,"type":"string","x-struct":null,"x-validate":null},"critical_count":{"description":"Number of checks with critical result","nullable":true,"type":"integer","x-struct":null,"x-validate":null},"execution_id":{"description":"Execution ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"group_id":{"description":"Group ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"passing_count":{"description":"Number of checks with passing result","nullable":true,"type":"integer","x-struct":null,"x-validate":null},"result":{"description":"Aggregated result of the execution, unknown for running ones","enum":["passing","warning","critical"],"nullable":true,"type":"string","x-struct":null,"x-validate":null},"started_at":{"description":"Execution start time","format":"date-time","type":"string","x-struct":null,"x-validate":null},"status":{"description":"The status of the current execution","enum":["running","completed"],"type":"string","x-struct":null,"x-validate":null},"targets":{"items":{"$ref":"#/components/schemas/Target"},"type":"array","x-struct":null,"x-validate":null},"timeout":{"description":"Timed out agents","items":{"description":"Agent ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"nullable":true,"type":"array","x-struct":null,"x-validate":null},"warning_count":{"description":"Number of checks with warning result","nullable":true,"type":"integer","x-struct":null,"x-validate":null}},"required":["execution_id","group_id","status","started_at","completed_at","result","targets","critical_count","warning_count","passing_count","timeout","check_results"],"title":"ExecutionResponse","type":"object","x-struct":null,"x-validate":null},"CustomizationResponse":{"additionalProperties":false,"description":"Response for a customization","properties":{"values":{"description":"List of the custom values applied","items":{"$ref":"#/components/schemas/CustomValue"},"type":"array","x-struct":null,"x-validate":null}},"title":"CustomizationResponse","type":"object","x-struct":null,"x-validate":null},"Forbidden":{"additionalProperties":false,"properties":{"errors":{"items":{"properties":{"detail":{"example":"The requested operation could not be performed.","type":"string","x-struct":null,"x-validate":null},"title":{"example":"Forbidden","type":"string","x-struct":null,"x-validate":null}},"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"title":"Forbidden","type":"object","x-struct":null,"x-validate":null},"NotCustomizedCheckValue":{"additionalProperties":false,"description":"A check value that is not customized","properties":{"customizable":{"description":"Whether the check is customizable or not","type":"boolean","x-struct":null,"x-validate":null},"default_value":{"description":"Original value as defined by specification. Resolved based on the environment. Absent if value is not customizable.","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"anyOf":[{"type":"integer","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},"name":{"description":"Value name","type":"string","x-struct":null,"x-validate":null}},"required":["name","customizable"],"title":"NotCustomizedCheckValue","type":"object","x-struct":null,"x-validate":null},"Check":{"additionalProperties":false,"description":"A single check from the catalog","properties":{"description":{"description":"Check description","type":"string","x-struct":null,"x-validate":null},"expectations":{"items":{"additionalProperties":false,"properties":{"expression":{"description":"Expression to be evaluated to get the expectation result","type":"string","x-struct":null,"x-validate":null},"failure_message":{"description":"Message returned when the check fails","nullable":true,"type":"string","x-struct":null,"x-validate":null},"name":{"description":"Expectation name","type":"string","x-struct":null,"x-validate":null},"type":{"description":"Expectation type","enum":["unknown","expect","expect_same"],"type":"string","x-struct":null,"x-validate":null}},"required":["name","type","expression","failure_message"],"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null},"facts":{"items":{"additionalProperties":false,"properties":{"argument":{"description":"Argument for the gatherer","type":"string","x-struct":null,"x-validate":null},"gatherer":{"description":"Used gatherer","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Fact name","type":"string","x-struct":null,"x-validate":null}},"required":["name","gatherer","argument"],"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null},"group":{"description":"Check group","type":"string","x-struct":null,"x-validate":null},"id":{"description":"Check ID","type":"string","x-struct":null,"x-validate":null},"metadata":{"description":"Check metadata","nullable":true,"type":"object","x-struct":null,"x-validate":null},"name":{"description":"Check name","type":"string","x-struct":null,"x-validate":null},"premium":{"deprecated":true,"description":"Check is Premium or not","type":"boolean","x-struct":null,"x-validate":null},"remediation":{"description":"Check remediation","type":"string","x-struct":null,"x-validate":null},"severity":{"description":"Check severity: critical|warning","enum":["critical","warning"],"type":"string","x-struct":null,"x-validate":null},"values":{"items":{"additionalProperties":false,"properties":{"conditions":{"items":{"additionalProperties":false,"properties":{"expression":{"description":"Expression to be evaluated to use the current value","type":"string","x-struct":null,"x-validate":null},"value":{"description":"Value for this condition","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null}},"required":["value","expression"],"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null},"default":{"description":"Default value. Used if none of the conditions matches","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},"name":{"description":"Value name","type":"string","x-struct":null,"x-validate":null}},"required":["name","default","conditions"],"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null},"when":{"description":"Expression to determine whether a check should run","nullable":true,"type":"string","x-struct":null,"x-validate":null}},"required":["id","name","group","description","remediation","metadata","severity","facts","values","expectations","when","premium"],"title":"Check","type":"object","x-struct":null,"x-validate":null},"SelectableCheck":{"additionalProperties":false,"properties":{"customizable":{"description":"Whether the check is customizable or not","type":"boolean","x-struct":null,"x-validate":null},"customized":{"description":"Whether the check has been customized or not","type":"boolean","x-struct":null,"x-validate":null},"description":{"description":"Check description","type":"string","x-struct":null,"x-validate":null},"group":{"description":"Check group","type":"string","x-struct":null,"x-validate":null},"id":{"description":"Check ID","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Check name","type":"string","x-struct":null,"x-validate":null},"values":{"items":{"oneOf":[{"$ref":"#/components/schemas/CustomizedCheckValue"},{"$ref":"#/components/schemas/NotCustomizedCheckValue"}],"x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"required":["id","name","group","description","values","customizable","customized"],"title":"SelectableCheck","type":"object","x-struct":null,"x-validate":null},"ListOperationsResponse":{"additionalProperties":false,"description":"The paginated list of operations","properties":{"items":{"items":{"$ref":"#/components/schemas/OperationResponse"},"type":"array","x-struct":null,"x-validate":null},"total_count":{"description":"Total count of operations","type":"integer","x-struct":null,"x-validate":null}},"title":"ListOperationsResponse","type":"object","x-struct":null,"x-validate":null},"AgentCheckResult":{"description":"The result of check on a specific agent","properties":{"agent_id":{"description":"Agent ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"expectation_evaluations":{"description":"Result of the single expectation evaluation","items":{"oneOf":[{"$ref":"#/components/schemas/ExpectationEvaluation"},{"$ref":"#/components/schemas/ExpectationEvaluationError"}],"x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null},"facts":{"description":"Facts gathered from the targets","items":{"$ref":"#/components/schemas/Fact"},"type":"array","x-struct":null,"x-validate":null},"values":{"description":"Values resolved for the current execution","items":{"$ref":"#/components/schemas/Value"},"type":"array","x-struct":null,"x-validate":null}},"required":["agent_id","facts","expectation_evaluations"],"title":"AgentCheckResult","type":"object","x-struct":null,"x-validate":null},"AcceptedExecutionResponse":{"additionalProperties":false,"description":"Identifiers of the recently accepted execution","properties":{"execution_id":{"format":"uuid","type":"string","x-struct":null,"x-validate":null},"group_id":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}},"title":"AcceptedExecutionResponse","type":"object","x-struct":null,"x-validate":null},"ExpectationResult":{"additionalProperties":false,"description":"The result of an expectation","properties":{"failure_message":{"description":"Failure message. Only available for `expect_same` scenarios","nullable":true,"type":"string","x-struct":null,"x-validate":null},"name":{"description":"Expectation name","type":"string","x-struct":null,"x-validate":null},"result":{"description":"Result of the expectation condition","type":"boolean","x-struct":null,"x-validate":null},"type":{"description":"Evaluation type","enum":["unknown","expect","expect_same"],"type":"string","x-struct":null,"x-validate":null}},"required":["name","result","type"],"title":"ExpectationResult","type":"object","x-struct":null,"x-validate":null},"FactError":{"additionalProperties":false,"description":"An error describing that a fact could not be gathered","properties":{"check_id":{"description":"Check ID","type":"string","x-struct":null,"x-validate":null},"message":{"description":"Error message","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Fact name","type":"string","x-struct":null,"x-validate":null},"type":{"description":"Error type","type":"string","x-struct":null,"x-validate":null}},"required":["check_id","name","type","message"],"title":"FactError","type":"object","x-struct":null,"x-validate":null},"SelectableChecksResponse":{"additionalProperties":false,"description":"List of selectable checks for a given execution group and environment","properties":{"items":{"description":"List of Selectable Checks","items":{"additionalProperties":false,"properties":{"customizable":{"description":"Whether the check is customizable or not","type":"boolean","x-struct":null,"x-validate":null},"customized":{"description":"Whether the check has been customized or not","type":"boolean","x-struct":null,"x-validate":null},"description":{"description":"Check description","type":"string","x-struct":null,"x-validate":null},"group":{"description":"Check group","type":"string","x-struct":null,"x-validate":null},"id":{"description":"Check ID","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Check name","type":"string","x-struct":null,"x-validate":null},"values":{"items":{"oneOf":[{"$ref":"#/components/schemas/CustomizedCheckValue"},{"$ref":"#/components/schemas/NotCustomizedCheckValue"}],"x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"required":["id","name","group","description","values","customizable","customized"],"title":"SelectableCheck","type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"title":"SelectableChecksResponse","type":"object","x-struct":null,"x-validate":null},"Ready":{"additionalProperties":false,"example":{"ready":true},"properties":{"ready":{"description":"Wanda platform ready","type":"boolean","x-struct":null,"x-validate":null}},"title":"Ready","type":"object","x-struct":null,"x-validate":null},"ExecutionEnv":{"additionalProperties":{"oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"integer","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null},{"items":{"$ref":"#/components/schemas/ExecutionEnv"},"type":"array","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},"description":"Contextual Environment for the current execution","title":"ExecutionEnv","type":"object","x-struct":null,"x-validate":null},"BadRequest":{"additionalProperties":false,"properties":{"errors":{"items":{"additionalProperties":false,"properties":{"detail":{"example":"Invalid request payload.","type":"string","x-struct":null,"x-validate":null},"title":{"example":"Bad Request","type":"string","x-struct":null,"x-validate":null}},"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"title":"BadRequest","type":"object","x-struct":null,"x-validate":null},"CustomizedCheckValue":{"additionalProperties":false,"description":"A single customized check value","properties":{"custom_value":{"description":"Represents the custom value that overrides the current one.","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"anyOf":[{"type":"integer","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},"customizable":{"description":"Whether the check is customizable or not","type":"boolean","x-struct":null,"x-validate":null},"default_value":{"description":"Original value as defined by specification. Resolved based on the environment.","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"anyOf":[{"type":"integer","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},"name":{"description":"Value name","type":"string","x-struct":null,"x-validate":null}},"required":["name","custom_value","default_value","customizable"],"title":"CustomizedCheckValue","type":"object","x-struct":null,"x-validate":null},"CustomizationRequest":{"additionalProperties":false,"description":"Request to customize a check","minProperties":1,"properties":{"values":{"description":"List of values to customize","items":{"$ref":"#/components/schemas/CustomValue"},"minItems":1,"type":"array","x-struct":null,"x-validate":null}},"required":["values"],"title":"CustomizationRequest","type":"object","x-struct":null,"x-validate":null},"Target":{"additionalProperties":false,"description":"Target where execution facts are gathered","properties":{"agent_id":{"description":"Agent ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"checks":{"items":{"description":"Check ID","type":"string","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"required":["agent_id","checks"],"title":"Target","type":"object","x-struct":null,"x-validate":null},"ExpectationEvaluation":{"additionalProperties":false,"description":"Evaluation of an expectation","properties":{"failure_message":{"description":"Failure message. Only available for `expect` scenarios","nullable":true,"type":"string","x-struct":null,"x-validate":null},"name":{"description":"Name","type":"string","x-struct":null,"x-validate":null},"return_value":{"description":"Return value","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"number","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},"type":{"description":"Evaluation type","enum":["unknown","expect","expect_same"],"type":"string","x-struct":null,"x-validate":null}},"required":["name","return_value","type"],"title":"ExpectationEvaluation","type":"object","x-struct":null,"x-validate":null},"AgentCheckError":{"additionalProperties":false,"description":"An error describing that some of the facts could not be gathered on a specific agent eg. gathering failure or timeout","properties":{"agent_id":{"description":"Agent ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"facts":{"description":"Facts gathered, possibly with errors, from the target","items":{"oneOf":[{"$ref":"#/components/schemas/Fact"},{"$ref":"#/components/schemas/FactError"}],"x-struct":null,"x-validate":null},"nullable":true,"type":"array","x-struct":null,"x-validate":null},"message":{"description":"Error message","type":"string","x-struct":null,"x-validate":null},"type":{"description":"Error type","type":"string","x-struct":null,"x-validate":null}},"required":["agent_id","type","message"],"title":"AgentCheckError","type":"object","x-struct":null,"x-validate":null},"StepReport":{"additionalProperties":false,"description":"Operation step report","properties":{"agents":{"items":{"$ref":"#/components/schemas/AgentReport"},"type":"array","x-struct":null,"x-validate":null},"name":{"description":"Operation step tname","type":"string","x-struct":null,"x-validate":null},"operator":{"description":"Operation step operator","type":"string","x-struct":null,"x-validate":null},"predicate":{"description":"Operation step predicate","type":"string","x-struct":null,"x-validate":null},"timeout":{"description":"Operation step timeout","type":"integer","x-struct":null,"x-validate":null}},"required":["name","operator","predicate","timeout","agents"],"title":"StepReport","type":"object","x-struct":null,"x-validate":null},"OperationTarget":{"additionalProperties":false,"description":"Target where operations are executed","properties":{"agent_id":{"description":"Agent ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"arguments":{"additionalProperties":{"oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"integer","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null},"description":"Arguments map","type":"object","x-struct":null,"x-validate":null}},"required":["agent_id","arguments"],"title":"OperationTarget","type":"object","x-struct":null,"x-validate":null},"Targets":{"items":{"$ref":"#/components/schemas/Target"},"title":"Targets","type":"array","x-struct":null,"x-validate":null},"JsonErrorResponse":{"properties":{"errors":{"items":{"properties":{"detail":{"example":"null value where string expected","type":"string","x-struct":null,"x-validate":null},"source":{"properties":{"pointer":{"example":"/data/attributes/petName","type":"string","x-struct":null,"x-validate":null}},"required":["pointer"],"type":"object","x-struct":null,"x-validate":null},"title":{"example":"Invalid value","type":"string","x-struct":null,"x-validate":null}},"required":["title","source","detail"],"type":"object","x-struct":null,"x-validate":null},"type":"array","x-struct":null,"x-validate":null}},"required":["errors"],"title":"JsonErrorResponse","type":"object","x-struct":"Elixir.OpenApiSpex.JsonErrorResponse","x-validate":null},"OperationResponse":{"additionalProperties":false,"description":"The representation of an operation, it may be a running or completed one","properties":{"agent_reports":{"items":{"$ref":"#/components/schemas/StepReport"},"nullable":true,"type":"array","x-struct":null,"x-validate":null},"completed_at":{"description":"Operation completion time","format":"date-time","nullable":true,"type":"string","x-struct":null,"x-validate":null},"description":{"description":"Operation description","type":"string","x-struct":null,"x-validate":null},"group_id":{"description":"Group ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"name":{"description":"Operation name","type":"string","x-struct":null,"x-validate":null},"operation":{"description":"Executed operation","type":"string","x-struct":null,"x-validate":null},"operation_id":{"description":"Operation ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"result":{"description":"Aggregated result of the operation, unknown for running ones","enum":["updated","not_updated","failed","rolled_back","timeout","skipped","not_executed"],"nullable":true,"type":"string","x-struct":null,"x-validate":null},"started_at":{"description":"Operation start time","format":"date-time","type":"string","x-struct":null,"x-validate":null},"status":{"description":"The status of the current operation","enum":["running","completed","aborted"],"type":"string","x-struct":null,"x-validate":null},"targets":{"items":{"$ref":"#/components/schemas/OperationTarget"},"type":"array","x-struct":null,"x-validate":null},"updated_at":{"description":"Operation last update time","format":"date-time","type":"string","x-struct":null,"x-validate":null}},"title":"OperationResponse","type":"object","x-struct":null,"x-validate":null},"ListExecutionsResponse":{"additionalProperties":false,"description":"The paginated list of executions","properties":{"items":{"items":{"$ref":"#/components/schemas/ExecutionResponse"},"type":"array","x-struct":null,"x-validate":null},"total_count":{"description":"Total count of executions","type":"integer","x-struct":null,"x-validate":null}},"title":"ListExecutionsResponse","type":"object","x-struct":null,"x-validate":null},"AgentReport":{"additionalProperties":false,"description":"Individual agent report of an operation","properties":{"agent_id":{"description":"Agent ID","format":"uuid","type":"string","x-struct":null,"x-validate":null},"diff":{"additionalProperties":false,"description":"The operation before/after difference","nullable":true,"properties":{"after":{"description":"The state after applying the operation","x-struct":null,"x-validate":null},"before":{"description":"The state before applying the operation","x-struct":null,"x-validate":null}},"required":["before","after"],"type":"object","x-struct":null,"x-validate":null},"error_message":{"description":"Error message in case of a failed operation","nullable":true,"type":"string","x-struct":null,"x-validate":null},"result":{"enum":["updated","not_updated","failed","rolled_back","timeout","skipped","not_executed"],"type":"string","x-struct":null,"x-validate":null}},"required":["agent_id","result","diff","error_message"],"title":"AgentReport","type":"object","x-struct":null,"x-validate":null},"Health":{"additionalProperties":false,"example":{"database":"pass"},"properties":{"database":{"description":"The status of the database connection","enum":["pass","fail"],"type":"string","x-struct":null,"x-validate":null}},"title":"Health","type":"object","x-struct":null,"x-validate":null},"CatalogResponse":{"additionalProperties":false,"description":"Checks catalog listing response","properties":{"items":{"description":"List of catalog checks","items":{"$ref":"#/components/schemas/Check"},"type":"array","x-struct":null,"x-validate":null}},"title":"CatalogResponse","type":"object","x-struct":null,"x-validate":null},"CustomValue":{"additionalProperties":false,"description":"A single custom value to be applied or already applied to a check","properties":{"name":{"description":"Name of the specific value to be customized","type":"string","x-struct":null,"x-validate":null},"value":{"description":"Overriding value","oneOf":[{"type":"string","x-struct":null,"x-validate":null},{"type":"integer","x-struct":null,"x-validate":null},{"type":"boolean","x-struct":null,"x-validate":null}],"x-struct":null,"x-validate":null}},"required":["name","value"],"title":"CustomValue","type":"object","x-struct":null,"x-validate":null}},"securitySchemes":{"authorization":{"scheme":"bearer","type":"http"}}},"info":{"description":"wanda","title":"Wanda","version":"1.5.0"},"openapi":"3.0.0","paths":{"/api/healthz":{"get":{"callbacks":{},"description":"Get the health status of the Wanda platform","operationId":"WandaWeb.HealthController.health","parameters":[],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Health"}}},"description":"Wanda health status"}},"security":[],"summary":"Wanda health","tags":["Platform"]}},"/api/readyz":{"get":{"callbacks":{},"description":"Check if Wanda is ready","operationId":"WandaWeb.HealthController.ready","parameters":[],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ready"}}},"description":"Wanda is ready"}},"security":[],"summary":"Wanda ready","tags":["Platform"]}},"/api/v1/checks/catalog":{"get":{"callbacks":{},"operationId":"WandaWeb.V1.CatalogController.catalog","parameters":[{"description":"env variables","explode":true,"in":"query","name":"env","required":false,"schema":{"$ref":"#/components/schemas/ExecutionEnv"},"style":"form"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CatalogResponse"}}},"description":"Check catalog response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"List checks catalog","tags":[]}},"/api/v1/checks/executions":{"get":{"callbacks":{},"operationId":"WandaWeb.V1.ExecutionController.index","parameters":[{"description":"Filter by group ID","example":"00000000-0000-0000-0000-000000000001","in":"query","name":"group_id","required":false,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}},{"description":"Page","example":3,"in":"query","name":"page","required":false,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Items per page","example":20,"in":"query","name":"items_per_page","required":false,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListExecutionsResponse"}}},"description":"List executions response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"List executions","tags":[]}},"/api/v1/checks/executions/start":{"post":{"callbacks":{},"description":"Start a Checks Execution on the target infrastructure","operationId":"WandaWeb.V1.ExecutionController.start","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartExecutionRequest"}}},"description":"Execution Context","required":false},"responses":{"202":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcceptedExecutionResponse"}}},"description":"Accepted Execution Response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}},"description":"Bad Request"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"Start a Checks Execution","tags":[]}},"/api/v1/checks/executions/{id}":{"get":{"callbacks":{},"operationId":"WandaWeb.V1.ExecutionController.show","parameters":[{"description":"Execution ID","example":"00000000-0000-0000-0000-000000000001","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutionResponse"}}},"description":"Execution"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}},"description":"Not Found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"Get an execution by ID","tags":[]}},"/api/v1/checks/groups/{id}/executions/last":{"get":{"callbacks":{},"operationId":"WandaWeb.V1.ExecutionController.last","parameters":[{"description":"Group ID","example":"00000000-0000-0000-0000-000000000001","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutionResponse"}}},"description":"Execution"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}},"description":"Not Found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"Get the last execution of a group","tags":[]}},"/api/v1/groups/{group_id}/checks":{"get":{"callbacks":{},"operationId":"WandaWeb.V1.CatalogController.selectable_checks","parameters":[{"description":"Identifier of the group for which selectable checks should be listed","example":"00000000-0000-0000-0000-000000000001","in":"path","name":"group_id","required":true,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}},{"description":"env variables","explode":true,"in":"query","name":"env","required":false,"schema":{"$ref":"#/components/schemas/ExecutionEnv"},"style":"form"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SelectableChecksResponse"}}},"description":"Selectable checks response"}},"summary":"List selectable checks for a given execution group and environment","tags":[]}},"/api/v1/groups/{group_id}/checks/{check_id}/customization":{"delete":{"callbacks":{},"description":"Removes all previously applied customizations for a check in a specific group","operationId":"WandaWeb.V1.ChecksCustomizationsController.reset_customization","parameters":[{"description":"Identifier of the specific check for which the customization is being reset","example":"ABC123","in":"path","name":"check_id","required":true,"schema":{"type":"string","x-struct":null,"x-validate":null}},{"description":"Identifier of the group for which the specific check's customization is being reset","example":"00000000-0000-0000-0000-000000000001","in":"path","name":"group_id","required":true,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}}],"responses":{"204":{"description":"Customization successfully reset"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}},"description":"Not Found"}},"summary":"Reset the customizations applied for a specific check","tags":[]},"post":{"callbacks":{},"operationId":"WandaWeb.V1.ChecksCustomizationsController.apply_custom_values","parameters":[{"description":"Identifier of the specific check that is being customized","example":"ABC123","in":"path","name":"check_id","required":true,"schema":{"type":"string","x-struct":null,"x-validate":null}},{"description":"Identifier of the group for which a custom value should be applied","example":"00000000-0000-0000-0000-000000000001","in":"path","name":"group_id","required":true,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomizationRequest"}}},"description":"Custom Values","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomizationResponse"}}},"description":"Check Customizations"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequest"}}},"description":"Bad Request"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}},"description":"Not Found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"Apply custom values for a specific check","tags":[]}},"/api/v1/operations/executions":{"get":{"callbacks":{},"operationId":"WandaWeb.V1.OperationController.index","parameters":[{"description":"Filter by group ID","example":"00000000-0000-0000-0000-000000000001","in":"query","name":"group_id","required":false,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}},{"description":"Page","example":3,"in":"query","name":"page","required":false,"schema":{"type":"integer","x-struct":null,"x-validate":null}},{"description":"Items per page","example":20,"in":"query","name":"items_per_page","required":false,"schema":{"type":"integer","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListOperationsResponse"}}},"description":"List operations response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"List operations","tags":[]}},"/api/v1/operations/executions/{id}":{"get":{"callbacks":{},"operationId":"WandaWeb.V1.OperationController.show","parameters":[{"description":"Operation ID","example":"00000000-0000-0000-0000-000000000001","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string","x-struct":null,"x-validate":null}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}},"description":"Operation"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}},"description":"Not Found"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JsonErrorResponse"}}},"description":"Unprocessable Entity"}},"summary":"Get an operation by ID","tags":[]}}},"security":[{"authorization":[]}],"servers":[{"url":"https://demo.trento-project.io","variables":{}}],"tags":[]}
